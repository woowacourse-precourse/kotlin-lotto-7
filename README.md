# kotlin-lotto-precourse

## 2주차 공통 피드백

---

- README.md를 상세히 작성한다  
  README.md는 프로젝트 개요를 소개하는 문서  
  어떤 프로젝트인지, 주요 기능은 무엇인지 소개


- 기능 목록을 재검토한다  
  클래스나 메서드의 설계와 구현의 내용은 포함 X  
  구현해야 할 기능 목록을 중심으로 작성 **(정성적인 경우 + 예외 경우)**  
  예외 상황은 시작 단계에서 파악 어려움 -> 기능을 구현하면서 지속적으로 업데이트


- 기능 목록을 업데이트한다.  
  README.md 파일의 기능 목록은 구현 과정에 변경될 수 있다.  
  시작을 완벽 X -> 기능을 구현하면서 문서를 지속적으로 업데이트하자.


- 값을 하드 코딩하지 않는다.  
  문자열이나 숫자 값을 하드 코딩하지 않고 상수(static final)을 정의 하고 의미있는 이름을 부여하여 어떤 역할을 하는지 명학히 드러내자.
    - java에서 static final 사용
    - koltin에서 const val 사용


- 구현 순서도 코딩 컨벤션이다.  
  클래스는 프로퍼티, init 블록, 부 생성자, 메서드, 동반 객체 순으로 작성한다.


- 변수 이름에 자료형은 사용하지 않는다.  
  변수 이름에 자료형, 자료 구조 등을 포함하지 않는다.  
  변수 이름은 의미를 명확히 드러낼 수 있도록 한다.  
  ex) val listString: List<String>


- 한 메서드는 단일 기능을 담당한다.  
  함수의 길이가 길어지면 여러 기능을 한 함수에서 처리하려는 신호일 가능성이 높다.  
  ex) 안내 문구 출력, 사용자 입력 처리, 유효값 검증 등  
  **한 메서드는 하나의 기능을 갖도록 하자**
  ```kotlin
  fun userInput(): List<String> {
    println("경주할 자동차 이름을 입력하세요(이름은 쉼표(,)를 기준으로 구분)")
    val userInput = Console.readLine().trim()
    val splittedName = userInput.split(",")
    splittedName.forEach {
       require(user.length <= 5) { "[ERROR] 자동차 이름은 1자 이상 5자 이하만 가능합니다." }
    }
    return splittedName
  }
  ```  

- 메서드가 한 가지 기능을 하는지 확인하는 기준을 세운다.  
  여러 메서드에서 중복되는 코드가 있다면 이를 별도 메서드로 분리  
  15라인이 넘지 않도록 구현하면 의식적으로 메서드를 분리하는 연습을 할 수 있다.


- 테스트를 작성하는 이유에 대해 본인의 경험을 토대로 정리해본다.  
  구현한 기능의 문제를 빠르게 발견,  
  즉각적인 피드백 가능,  
  코드의 구조와 의도를 명확히 이해


- 처음부터 큰 단위의 테스트를 만들지 않는다.  
  테스트의 핵심 목적 중 하나는 코드에 대해 빠르고 자주 피드백을 받는 것이다.  
  처음부터 큰 단위의 테스트를 작성하게 되면, 작성한 코드의 문제를 발견하기까지 시간이 오래 걸린다.  
  따라서 작게 나누어 핵심 기능부터 작게 테스트를 만들어 가는 것이 효과적이다.
    - 큰 단위의 테스트  
      자동차 경주 게임을 시작하여, 사용자가 이름과 진행 횟수를 입력하고, 게임을 진행한 후 결과를 확인한다.
    - 작은 단위의 테스트
        - 무작위 값이 4 이상이면 자동차가 전진한다.
        - 무작위 값이 3 이하이면 자동차가 전진하지 않는다.

## 기능 요구 사항

---

간단한 로또 발매기를 구현한다.

- [x] 로또 번호의 숫자 범위는 1~45까지이다.
- [x] 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- [x] 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- [x] 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.  
  1등: 6개 번호 일치 / 2,000,000,000원  
  2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원  
  3등: 5개 번호 일치 / 1,500,000원  
  4등: 4개 번호 일치 / 50,000원  
  5등: 3개 번호 일치 / 5,000원

- [x] 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.
- [x] 로또 1장의 가격은 1,000원이다.
- [x] 당첨 번호와 보너스 번호를 입력받는다.
- [x] 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- [x] 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시
  받는다.
    - [x] Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리한다.

## 구현 기능 목록

---

- 금액에 따라 로또 발행 개수를 결정
- 당첨 번호와 일치하는지 검사
- 보너스 번호와 일치하는지 검사
- 수익률을 계산

### 예외

- 로또 구입 금액 입력
    - 음수 입력
    - 숫자가 아닌 문자열 입력
    - 1,000원으로 나누어 떨어지지 않은 입력
    - 공백 입력


- 당첨 번호 입력
    - 숫자가 아닌 문자열 입력
    - 1~45의 범위를 벗어난 수를 입력
    - ,가 아닌 특수 문자를 입력
    - 공백 입력
    - ,, 연달아 입력
    - 숫자의 개수가 6개 보다 적거나 많은 입력
    - 중복된 숫자 필터링


- 보너스 번호 입력
    - 숫자가 아닌 문자열 입력
    - 1~45의 범위를 벗어난 수를 입력
    - 공백 입력
    - 당첨 번호와 중복 필터링

## 테스트

### 로또
- 1~45의 범위를 벗어난 수를 입력
- 숫자의 개수가 6개 보다 적거나 많은 입력
- 중복된 숫자 필터링

### 보너스 번호

- 1~45의 범위를 벗어난 수를 입력
- 당첨 번호와 중복 필터링

### 로또 수익률

- 복권 당첨의 개수가 0개, 1개(부분), 전체 인 경우