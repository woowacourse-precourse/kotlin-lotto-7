# 3주차 로또
## 프로젝트 개요
사용자가 돈을 낸만큼 로또를 발행하고, 당첨 번호를 입력하여 발행된 로또에서 몇개가 당첨됐는지 또 수익률이 몇 퍼센트인지 당첨 통계를 내주는 프로그램

## 프로젝트 흐름
1. 사용자가 금액을 제시하면 해당 금액에 맞게 로또를 구매한다.
2. 사용자는 1~45까지의 중복되지 않는 6개 숫자로 이루어진 로또 당첨 번호를 쉼표(,) 기준으로 제출한다.
3. 이후 제출한 6개의 숫자와 중복되지 않는 보너스 번호를 제출한다.
4. 구매한 로또의 개수의 따라 로또를 발행한다.
5. 발행한 로또의 개수와 로또 번호를 보여준다.
6. 제출 했던 당첨 번호(보너스 번호 포함)와 발행된 로또들과의 당첨 여부를 확인한다.
7. 번호가 몇 개 일치 했는가에 따라 당첨 내역을 출력한다.
8. 당첨 금액과 로또 구매 금액의 비율로 수익률을 구하고 출력한다.

## 프로젝트 구조
```
lotto
├── controller
│   └── LottoController.kt
├── model
│   ├── Lotto.kt
│   ├── LottoFactory.kt
│   ├── LottoRank.kt
│   └── LottoResultCalculator.kt 
├── view
│   ├── InputView.kt
│   └── OutputView.kt
└── util
        ├── constant
        │   ├── ErrorMessages.kt
        │   ├── InputConstants.kt
        │   ├── OutputConstants.kt
        │   └── LottoRules.kt
        └── validator
            ├── BonusNumberValidator.kt
            ├── LottoNumberValidator.kt
            └── PurchaseAmountValidator.kt
```

## 기능 요구 사항
### 입력
- 로또 구입 금액
  - 1,000 단위로 입력
  - 1,000으로 나눠 떨어지지 않으면 **예외 처리**
- 로또 번호
  - 번호는 쉼표로 구분
  - 1에서 45까지 중복이 없는 6개의 자연수
- 보너스 번호
  - 1에서 45까지 당첨 번호와 중복이 없는 자연수 하나

### 출력
- 발행 로또 정보
  - 로또의 수량
  - 오름차순으로 정렬된 로또 번호
- 당첨 내역 출력
  - 일치 번호가 3개부터 6개까지 몇 개인지 상금과 함께 출력
  - 5개 일치의 경우
    - 2등: 보너스 번호가 일치
    - 3등: 보너스 번호가 불일치
- 수익률
  - 소수점 둘째 자리에서 반올림한 총 수익률

### 예외 상황
- 예외 상황 시 에러 문구를 출력하고 그 부분부터 입력을 다시 받음
  - `Exception`이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형으로 처리

### 실행 결과 예시
```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

## 프로그래밍 요구 사항
- 제한 사항
  - `indent depth`는 2까지 허용
  - `method`는 한가지 일만 수행
    - 15라인을 넘기지 않도록 구현
  - 프로그램 실행 시작점은 `Application`의 `main()`
  - 프로그램 종료 시 `System.exit()`나 `exitProcess()`를 호출하지 않음
- 적용 사항
  - `enum class` 적용
  - 주어진 `Lotto class` 사용
    - `number`이외 필드는 추가 불가
    - `number`의 접근 제어자는 `private`로 고정
    - 패키지는 변경 가능
- 지향 사항
  - `else`사용은 지양
    - `if` 조건절에서 값을 `return`하는 방식으로 구현
  - 테스트는 기능 단위로 작성
    - UI로직은 제외(System.out, System.in, Scanner)

## 기능 목록
### 입력
- 구입 금액
  - [X] 숫자로 입력
- 로또 번호
  - [X] 쉼표(,)로 연결된 1~45 사이의 6개의 서로 다른 자연수 입력
- 보너스 번호
  - [X] 1~45 사이의 당첨 번호와 중복이 없는 자연수 하나

### 로또 발행
- 로또의 수량
  - [X] (입력된 금액 // 1000)개
- 로또 발행
  - [X] 1~45 사이의 6개의 서로 다른 자연수를 난수로 생성
    - `Randoms.pickUniqueNumbersInRange(1, 45, 6)`
  - [X] 로또의 수량 만큼 반복
  - [X] 로또 숫자는 오름차순으로 정렬

### 당첨 통계
- 당첨 번호 확인
  - [X] 발행된 로또의 번호와 입력한 로또 번호를 비교
  - 일치 번호의 개수에 따라 당첨 등수의 개수 확인
    - 5개가 일치할 경우
      - 남은 한개의 숫자와 입력한 보너스 번호 비교
        - [X] 두 수가 다를 경우: 3등
        - [X] 두 수가 같을 경우: 2등
- 수익률
  - [X] (총 당첨액 / 총 구매액) * 100을 소수점 둘째 자리에서 반올림 한 %
  - [X] 총 당첨액
    - (당첨 금액 * 당첨 갯수)를 모두 더한 값
      - 3개 일치: 5,000
      - 4개 일치: 50,000
      - 5개 일치
        - 3등: 1,500,000
        - 2등: 30,000,000
      - 6개 일치: 2,000,000,000
  - 총 구매액: 입력 구입 금액

### 출력
- 당첨 통계
  - [X] 3개부터 6개 일치하는 로또가 몇 개인지 표기
- 총 수익률
  - [X] 총 수익률 표기
    - [X] (수익 / 투자금) * 100
      - ex) (5,000 / 8,000) * 100 = 62.5 

## 오류 처리
- 구입 금액
  - 숫자로 입력
    - 숫자가 아닐 경우: "[ERROR] 구입 금액은 숫자여야 합니다."
    - 1,000으로 나눠 떨어지지 않을 경우: "[ERROR] 구입 금액은 1,000원 단위여야 합니다." 
    - 10억원을 넘길 경우: "[ERROR] 구입 금액은 10억원 이하여야 합니다."
- 로또 번호
  - 쉼표(,)로 연결된 1~45 사이의 6개의 서로 다른 자연수 입력
    - 쉼표로 연결 되지 않을 경우: "[ERROR] 로또 번호는 쉼표로 구분해야 합니다."
    - 1~45 사이의 수가 아닐 경우: "[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다."
    - 6개가 아닐 경우: "[ERROR] 로또 번호는 6개여야 합니다."
    - 서로 다르지 않을 경우: "[ERROR] 로또 번호는 중복될 수 없습니다."
    - 자연수가 아닐 경우: "[ERROR] 로또 번호는 자연수여야 합니다."
- 보너스 번호
  - 1~45 사이의 당첨 번호와 중복이 없는 자연수 하나
    - 1~45 사이의 수가 아닐 경우: "[ERROR] 보너스 번호는 1부터 45 사이의 숫자여야 합니다."
    - 당첨 번호와 중복이 있을 경우: "[ERROR] 보너스 번호는 로또 번호와 중복될 수 없습니다."
    - 자연수가 아닐 경우: "[ERROR] 보너스 번호는 자연수여야 합니다."

## 테스트
- Lotto 테스트
  - 초기화 검증 테스트
    - [X] 로또 번호 개수 테스트
    - [X] 로또 번호 범위 테스트
    - [X] 로또 번호 중복 테스트
  - [X] 로또 번호 불변 테스트
  - 로또 등수 테스트
    - [X] 당첨
    - [X] 꽝

- LottoFactory 테스트
  - [X] 변수 불변 테스트
  - [X] 로또 생성 테스트 

- LottoResultCalculator 테스트
  - [X] 로또 결과 테스트
  - [X] 총 수익률 테스트

- 예외 상황 테스트
  - 구입 금액
    - [X] 숫자가 아닐 경우
    - [X] 1,000으로 나눠 떨어지지 않을 경우
    - [X] 1,000에서 10억을 넘길 경우
  - 로또 번호
    - [X] 쉼표로 연결 되지 않을 경우
    - [X] 1~45 사이의 수가 아닐 경우
    - [X] 6개가 아닐 경우
    - [X] 서로 다르지 않을 경우
    - [X] 자연수가 아닐 경우
  - 보너스 번호
    - [X] 1~45 사이의 수가 아닐 경우
    - [X] 당첨 번호와 중복이 있을 경우
    - [X] 자연수가 아닐 경우