# kotlin-lotto-precourse

## Lotto Game Flow

1. 사용자로부터 로또 구입금액을 입력받는다. [1장 :1000원]
2. 구입금액만큼 로또 번호를 생성 후 출력한다.
3. 사용자로부터 로또 당첨 번호를 입력받는다.
4. 사용자로부터 보너스 번호를 입력받는다.
5. 당첨 결과를 출력한다. [모든 등수 결과를 출력]
6. 총 수익률을 출력한다.

## 구현 기능 목록

### 입출력

- [x] 구입금액 **<span style="color:red;">입력</span>** 안내 메시지를 출력한다.
- [x] 당첨 번호 **<span style="color:red;">입력</span>** 안내 메시지를 출력한다.
- [x] 보너스 번호 **<span style="color:red;">입력</span>** 안내 메시지를 출력한다.
- [x] 사용자로부터 값을 **<span style="color:red;">입력</span>** 받는다.


- [x] 로또 숫자를 **<span style="color:green;">출력</span>** 한다.
- [x] 로또 결과를 **<span style="color:green;">출력</span>** 한다.
- [x] 로또 수익률을 **<span style="color:green;">출력</span>** 한다.

### 구입

- #### 구입 로직

    - [x] 입력 구매금액(문자열)을 받아 생성한다.
    - [x] <span style="color:red;">구매금액</span>, <span style="color:red;">구매횟수</span>를 가져야한다.
    - [x] 입력 구매금액(문자열)을 숫자로 변환한다.
        - [x] 입력 구매금액이 빈 문자열인경우 예외를 발생시킨다.
        - [x] 입력 구매금액이 숫자가 아닌 경우 예외를 발생시킨다.

    - [x] 구매금액을 통해 지정된 단위[1000원]를 기준으로 구매수량을 구한다.
    - [x] 변환된 구매금액이 1,000원 단위로 나누어 떨어지는지 검증한다.
        - [x] 나머지가 있는 경우 예외를 발생시킨다.
        - [x] 니머지가 0인 경우 몫을 반환한다.

- #### 구입 테스트

    - [x] 구매 금액이 숫자가 아닌 경우 예외 테스트
    - [x] 구매 금액이 빈 값인 경우 예외 테스트
    - [x] 구매 금액이 음수인 경우 예외 테스트
    - [x] 구매 금액이 1,000원 단위가 아닌 경우 예외 테스트
    - [x] 올바른 금액이 주어진 경우 올바른 횟수를 반환하는지 테스트
    - [x] 올바른 금액이 주어진 경우 올바른 구입금액를 반환하는지 테스트

### 랜덤숫자

- [x] `Randoms`의 `pickUniqueNumbersInRange()`를 활용한다.
- [x] 1 ~ 45 범위내에서 6개의 숫자를 생성한다.

### 로또

#### 로직

- [x] 숫자 리스트를 가지고 생성된다.
- [x] 숫자 리스트를 검증한다.
    - [x] 숫자 리스트가 비어있는지
    - [x] 숫자가 6개인지
    - [x] 중복된 숫자가 있는지
- [x] 숫자 리스트를 반환하는 기능 구현

#### 로또 테스트

- [x] 빈 숫자 리스트가 주어진 경우 예외 발생 테스트
- [x] 숫자 리스트 중복 요소가 있는 경우 예외 발생 테스트
- [x] 숫자리스트의 크기가 6인지 테스트
- [x] 올바른 숫자 리스트가 주어진 경우 올바른 숫자 리스트를 반환하는지 테스트

### 로또목록

#### 구현

- [x] 로또 수량을 가지고 생성된다.
- [x] 로또 수량을 검증한다.
    - [x] 로또 수량이 1이상인지
- [x] 로또 목록을 가진다.
- [x] 로또 수량만큼 로또를 생성한다.
- [x] 생성된 로또를 로또 목록에 저장한다.

#### 로또 목록테스트

- [x] 로또 수량이 1미만인 경우 예외 발생 테스트
- [x] 올바른 수량이 주어진 경우 주어진 수량만큼의 로또를 생성하는지

### 당첨 번호

#### 구현

- [x] 입력된 당첨번호(문자열)를 가지고 생성된다.
- [x] 입력된 당첨번호(문자열)을 검증한다.
    - [x] 빈 문자열인지
- [x] 입력된 당첨번호(문자열)을 `,`기준으로 구분하여 리스트로 만든다.
- [x] 당첨번호(문자열)리스트의 요소를 숫자로 변환한다.
    - [x] 문자가 숫자로 변환 가능한지 검증한다.
- [x] 변환된 숫자 리스트를 검증한다.
    - [x] 숫자가 6개인지
    - [x] 중복된 숫자가 있는지
    - [x] 숫자가 1 ~ 45 범위 안에 있는지

#### 당첨 번호 테스트

- [x] 당첨번호가 빕 값인 경우 예외 발생 테스트
- [x] 당첨번호가 숫자가 아닌 경우 예외 발생 테스트
- [x] 당첨 번호의 개수가 6개 인지 테스트
- [x] 중복된 당첨 번호가 있는 경우 예외 발생 테스트
- [x] 당첨 번호가 1 ~ 45 범위 중 하나인지 테스트

### 보너스 번호

#### 구현

- [x] 입력된 보너스 번호(문자열)을 가지고 생성된다.
- [x] 입력된 보너스 번호(문자열)을 숫자로 변환한다.
    - [x] 숫자가 아닌경우 예외를 발생시킨다.
- [x] 변환된 보너스 숫자의 범위를 검증한다.
    - [x] 1 ~ 45 내의 범위인지

#### 보너스 번호 테스트

- [x] 입력 보너스 숫자가 숫자가 아닌경우 예외 발생 테스트
- [x] 입력 보너스 숫자가 빈 값인 경우 예외 발생 테스트
- [x] 보너스 숫자가 양수인지 테스트
- [x] 보너스 숫자가 지정된 범위 내의 값인지 테스트
- [x] 올바른 숫자가 주어진 경우 올바른 보너스 숫자를 반환 테스트

### 순위

#### 구현

- [x] 매칭개수, 상금, 보너스 필요 여부를 가진 열거형 클래스 생성
- [x] 각 등수에 해당하는 상금을 가진다.
- [x] 매칭개수에 따른 랭킹을 반환하는 메소드를 가진다.

#### 순위 테스트

- [x] 매칭 개수와 보너스 번호 일치 여부에 따른 등수 확인 테스트

### 로또 결과

#### 구현

- [x] 로또에서 당첨 숫자가 포함되어있는지 확인한다.
- [x] 로또에서 보너스 숫자가 포함되는지 확인한다.
- [x] 총 상금을 구하는 메소드를 가진다.

#### 로또 결과 테스트

- [x] 올바른 당첨 통계를 반환하는지 확인한다.
- [x] 올바른 당첨금액을 반환하는지 확인한다.
- [x] 닥첨 번호가 없는경우 낙첨으로 처리하는지 확인한다.
- [x] 보너스 여부에 따라 2,3등을 구분하는지 확인한다.

### 로또 통계

#### 구현

- [x] 랭킹과 당첨횟수를 위한 카운트를 가진 map을 가진다.
- [x] 당첨 카운트를 증가시키는 메소드를 가진다.
- [x] 당첨 카운트를 반환하는 메소드를 가진다.
- [x] 총 상금금액을 계산 하여 반환하는 메소드를 가진다.

#### 로또 통계 테스트

- [x] 랭킹 카운트를 증가 여부 확인 테스트
- [x] 올바른 총 상금 계산 확인 테스트

### 수익률

#### 구현

- [x] 구매금액, 당첨금액을 가지고 생성된다.
- [x] 구매금액을 검증한다.
    - [x] 양수인지
    - [x] 1000원 단위인지
- [x] 당첨금액을 검증한다.
    - [x] 음수인지
- [x] 구매금액, 당첨금액을 통해 수익률을 구한다.

#### 수익률 테스트

- [x] 구매금액이 양수가 아닌경우 예외 발생 테스트
- [x] 구매금액이 1000원 단위가 아닌 경우 예외 발생 테스트
- [x] 당첨금액이 음수인 경우 예외 발생 테스트
- [x] 올바른 구매금액, 당첨금액이 입력된 경우 올바른 수익률 반환 테스트
